"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeOrphans = void 0;
const Models_1 = require("../Models");
const removeOrphans = (possibleOrphans, nodes) => {
    const usedNodes = nodes.flatMap((n) => {
        return [...n.interfaces, ...n.args.flatMap((a) => [...a.name, ...a.args.map((ia) => ia.name)])];
    });
    return nodes.filter((n) => {
        if (!possibleOrphans.includes(n.name)) {
            return true;
        }
        if (n.data.type === Models_1.TypeSystemDefinition.DirectiveDefinition) {
            return true;
        }
        return usedNodes.includes(n.name);
    });
};
exports.removeOrphans = removeOrphans;
